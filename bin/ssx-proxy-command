#!/bin/bash


HOSTNAME=$1
echo "Hostname: $HOSTNAME" >/dev/tty
GIT_HOSTNAME=$2
echo "Git HostName: $GIT_HOSTNAME" >/dev/tty
PORT=${3:-22}
echo "Port: $PORT" >/dev/tty
USER=$4
echo "User: $USER" >/dev/tty

# for git, the user is always git
KEY="id_${USER}_${HOSTNAME//./_}"
echo "Private Key User: $KEY" >/dev/tty

echo -n "SSH key password for $KEY: " >/dev/tty
read -rs password </dev/tty
echo "$password" >/dev/tty
if [[ $- == *i* ]]; then
    echo "The shell is interactive." >/dev/tty
else
  echo "The shell is not interactive." >/dev/tty
fi

#ssh-add "$HOME/.ssh/$KEY"
